# This is the base config file that all molecule tests use. molecule checks this path by default but you can also pass in `--base-config` to point to a base config file. 

driver:
  name: docker
platforms: # Options: https://github.com/ansible-community/molecule-docker/blob/bff4fde7a4b6f6d9b1f35be3b461b64b6b904252/molecule_docker/driver.py#L56
  - name: instance
    image: "levibostian/debian10-ansible-testing:latest"
    command: "" # If do not set this, molecule will run `bash -c "while true; do sleep 10000; done"` and ignore the docker container's CMD. This makes the dockerfile CMD to run. 
    volumes:
      - /sys/fs/cgroup:/sys/fs/cgroup:ro
    privileged: true
    pre_build_image: true
    env: 
      SSH_KEY: "$SSH_KEY"
    published_ports:
      # Allowing to ssh into container 
      - 0.0.0.0:2222:22/udp
      - 0.0.0.0:2222:22/tcp
provisioner:
  name: ansible
  log: true